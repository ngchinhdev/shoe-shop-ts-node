<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <label><input type="checkbox" class="price-filter" value="0-50"> Under $50</label>
    <label><input type="checkbox" class="price-filter" value="50-100"> $50 - $100</label>
    <label><input type="checkbox" class="price-filter" value="100-200"> $100 - $200</label>
    <label><input type="checkbox" class="price-filter" value="200-500"> $200 - $500</label>
    <label><input type="checkbox" class="price-filter" value="500"> $500 and above</label>

    <label><input type="checkbox" class="discount-filter" value="0-10"> 10% off or less</label>
    <label><input type="checkbox" class="discount-filter" value="10-20"> 10% - 20% off</label>
    <label><input type="checkbox" class="discount-filter" value="20-30"> 20% - 30% off</label>
    <label><input type="checkbox" class="discount-filter" value="30-40"> 30% - 40% off</label>
    <label><input type="checkbox" class="discount-filter" value="40-50"> 40% - 50% off</label>
    <label><input type="checkbox" class="discount-filter" value="50-60"> 50% - 60% off</label>
    <label><input type="checkbox" class="discount-filter" value="60-70"> 60% - 70% off</label>
    <label><input type="checkbox" class="discount-filter" value="70-80"> 70% - 80% off</label>
    <label><input type="checkbox" class="discount-filter" value="80-90"> 80% - 90% off</label>
    <label><input type="checkbox" class="discount-filter" value="90-100"> 90% off or more</label>

    <select id="sort-option">
        <option value="price-low-to-high">Price: Low to High</option>
        <option value="price-high-to-low">Price: High to Low</option>
    </select>

    <div id="products">
        <!-- Danh sách sản phẩm sẽ được hiển thị ở đây -->
    </div>



    <script>
        function displayProducts(products) {
            var productsContainer = document.getElementById('products');
            productsContainer.innerHTML = '';

            products.forEach(function (product) {
                var productItem = document.createElement('div');
                productItem.textContent = product.name + ' - $' + product.price;
                productsContainer.appendChild(productItem);
            });
        }
        // Định nghĩa các sản phẩm mẫu
        var products = [
            { name: "Product 1", price: 25, discount: 10 },
            { name: "Product 2", price: 75, discount: 20 },
            { name: "Product 3", price: 150, discount: 30 },
            { name: "Product 4", price: 250, discount: 40 },
            { name: "Product 5", price: 600, discount: 50 }
        ];

        // Lọc, sắp xếp và hiển thị sản phẩm dựa trên các checkbox và select được chọn
        function filterAndSortProducts() {
            var checkedPriceFilters = document.querySelectorAll('.price-filter:checked');
            var checkedDiscountFilters = document.querySelectorAll('.discount-filter:checked');
            var sortOption = document.getElementById('sort-option').value;

            var filteredProducts = products.filter(function (product) {
                // Lọc sản phẩm theo giá
                var priceCondition = Array.from(checkedPriceFilters).some(function (checkbox) {
                    var range = checkbox.value.split('-');
                    var minPrice = parseInt(range[0]);
                    var maxPrice = parseInt(range[1] || Infinity);
                    return product.price >= minPrice && product.price <= maxPrice;
                });

                // Lọc sản phẩm theo giảm giá
                var discountCondition = Array.from(checkedDiscountFilters).some(function (checkbox) {
                    var range = checkbox.value.split('-');
                    var minDiscount = parseInt(range[0]);
                    var maxDiscount = parseInt(range[1] || Infinity);
                    return product.discount >= minDiscount && product.discount <= maxDiscount;
                });

                // Kiểm tra xem sản phẩm có thỏa mãn cả hai điều kiện (nếu có) hay không
                return (!checkedPriceFilters.length || priceCondition) && (!checkedDiscountFilters.length || discountCondition);
            });

            // Sắp xếp sản phẩm nếu yêu cầu
            if (sortOption === 'price-low-to-high') {
                filteredProducts.sort(function (a, b) {
                    return a.price - b.price;
                });
            } else if (sortOption === 'price-high-to-low') {
                filteredProducts.sort(function (a, b) {
                    return b.price - a.price;
                });
            }

            // Hiển thị danh sách sản phẩm đã lọc và đã sắp xếp
            displayProducts(filteredProducts);
        }

        // Xử lý khi checkbox hoặc select thay đổi
        var filters = document.querySelectorAll('.price-filter, .discount-filter');
        filters.forEach(function (input) {
            input.addEventListener('change', filterAndSortProducts);
        });

        var sortSelect = document.getElementById('sort-option');
        sortSelect.addEventListener('change', filterAndSortProducts);


    </script>
</body>
</html>